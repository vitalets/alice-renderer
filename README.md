# alice-renderer

[![Actions Status](https://github.com/vitalets/alice-renderer/workflows/autotests/badge.svg)](https://github.com/vitalets/alice-renderer/actions)
[![Coverage Status](https://coveralls.io/repos/github/vitalets/alice-renderer/badge.svg?branch=master)](https://coveralls.io/github/vitalets/alice-renderer?branch=master)
[![Known Vulnerabilities](https://snyk.io/test/github/vitalets/alice-renderer/badge.svg?targetFile=package.json)](https://snyk.io/test/github/vitalets/alice-renderer?targetFile=package.json)
[![npm](https://img.shields.io/npm/v/alice-renderer.svg)](https://www.npmjs.com/package/alice-renderer)
[![license](https://img.shields.io/npm/l/alice-renderer.svg)](https://www.npmjs.com/package/alice-renderer)

Node.js –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è [–æ—Ç–≤–µ—Ç–æ–≤](https://tech.yandex.ru/dialogs/alice/doc/protocol-docpage/#response) –≤ –Ω–∞–≤—ã–∫–∞—Ö –Ø–Ω–¥–µ–∫—Å –ê–ª–∏—Å—ã.  

–ü–æ–∑–≤–æ–ª—è–µ—Ç:
* –∫–æ–º–ø–∞–∫—Ç–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –æ—Ç–≤–µ—Ç
* —Ä–∞–∑–¥–µ–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ç–µ–∫—Å—Ç –∏ –≥–æ–ª–æ—Å (—Ç–∞–º –≥–¥–µ –Ω—É–∂–Ω–æ)
* –¥–æ–±–∞–≤–ª—è—Ç—å –ø–∞—É–∑—ã, –∑–≤—É–∫–∏ –∏ –∞—É–¥–∏–æ-—ç—Ñ—Ñ–µ–∫—Ç—ã
* –≤—Å—Ç–∞–≤–ª—è—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
* –¥–æ–±–∞–≤–ª—è—Ç—å –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤
* –≤—Å—Ç–∞–≤–ª—è—Ç—å –∫–Ω–æ–ø–∫–∏-–ø–æ–¥—Å–∫–∞–∑–∫–∏

–û—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ [Tagged templates](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#Tagged_templates).

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

<!-- toc -->

- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0)
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#%D0%B8%D1%81%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)
  * [–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä](#%D0%B1%D0%B0%D0%B7%D0%BE%D0%B2%D1%8B%D0%B9-%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80)
  * [–ü—Ä–∏–º–µ—Ä —Å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏](#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D1%81-%D0%BC%D0%BE%D0%B4%D0%B8%D1%84%D0%B8%D0%BA%D0%B0%D1%82%D0%BE%D1%80%D0%B0%D0%BC%D0%B8)
  * [–ü—Ä–∏–º–µ—Ä —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏](#%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-%D1%81-%D0%BF%D0%B0%D1%80%D0%B0%D0%BC%D0%B5%D1%82%D1%80%D0%B0%D0%BC%D0%B8)
- [API](#api)
  * [reply](#reply)
  * [reply.end](#replyend)
  * [buttons(items, [defaults])](#buttonsitems-defaults)
  * [audio(name)](#audioname)
  * [effect(name)](#effectname)
  * [image(imageId, [options])](#imageimageid-options)
  * [pause([ms])](#pausems)
  * [br([count])](#brcount)
  * [text(value)](#textvalue)
  * [tts(value)](#ttsvalue)
  * [textTts(textValue, ttsValue)](#textttstextvalue-ttsvalue)
  * [plural(number, one, two, five)](#pluralnumber-one-two-five)
  * [userify(userId, target)](#userifyuserid-target)
  * [onceInRange(from, to, response)](#onceinrangefrom-to-response)
  * [configure(options)](#configureoptions)
- [–†–µ—Ü–µ–ø—Ç—ã](#%D1%80%D0%B5%D1%86%D0%B5%D0%BF%D1%82%D1%8B)
  * [–í–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –º–∞—Å—Å–∏–≤—ã](#%D0%B2%D0%B0%D1%80%D0%B8%D0%B0%D1%82%D0%B8%D0%B2%D0%BD%D0%BE%D1%81%D1%82%D1%8C-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-%D0%BC%D0%B0%D1%81%D1%81%D0%B8%D0%B2%D1%8B)
  * [–ú–æ–¥—É–ª—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –æ—Ç–≤–µ—Ç–æ–≤](#%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8C-%D1%80%D0%B5%D0%BD%D0%B4%D0%B5%D1%80%D0%B8%D0%BD%D0%B3%D0%B0-%D0%BE%D1%82%D0%B2%D0%B5%D1%82%D0%BE%D0%B2)
  * [–û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ª–æ–≤–∏–π](#%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D1%83%D1%81%D0%BB%D0%BE%D0%B2%D0%B8%D0%B9)
- [–õ–∏—Ü–µ–Ω–∑–∏—è](#%D0%BB%D0%B8%D1%86%D0%B5%D0%BD%D0%B7%D0%B8%D1%8F)

<!-- tocstop -->

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
npm i alice-renderer
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä
–í –ø—Ä–æ—Å—Ç–µ–π—à–µ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –Ω—É–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —Ç–µ–≥-—Ñ—É–Ω–∫—Ü–∏—é [`reply`](#reply) –∫ –Ω–µ–∫–æ—Ç–æ—Ä–æ–π —Å—Ç—Ä–æ–∫–µ, –∑–∞–∫–ª—é—á—ë–Ω–Ω–æ–π –≤ backticks `` ` ``:
```js
reply`—Å—Ç—Ä–æ–∫–∞`;
```
–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø–æ–ª—É—á–∏–º –æ–±—ä–µ–∫—Ç —Å –ø–æ–ª—è–º–∏ `text` –∏ `tts`, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–ø–∏—Å–∞–Ω–∞ –ø–µ—Ä–µ–¥–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞:
```json5
{
  text: '—Å—Ç—Ä–æ–∫–∞',
  tts: '—Å—Ç—Ä–æ–∫–∞',
  end_session: false
}
```
–ü—Ä–∏ —ç—Ç–æ–º –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–∑ —Å—Ç—Ä–æ–∫–∏ –≤—ã—Ä–µ–∑–∞—é—Ç—Å—è –∞–∫—Ü–µ–Ω—Ç—ã (`+`):
```js
const { reply } = require('alice-renderer');

const response = reply`–ö–∞–∫ –¥–µ–ª+–∞?`;

console.log(response);

/*
{
  text: '–ö–∞–∫ –¥–µ–ª–∞?',
  tts: '–ö–∞–∫ –¥–µ–ª+–∞?',
  end_session: false
}
*/
```

### –ü—Ä–∏–º–µ—Ä —Å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏
–§—É–Ω–∫—Ü–∏–∏-–º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –æ–±–æ–≥–∞—â–∞—Ç—å –æ—Ç–≤–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –∏ –≥–æ–ª–æ—Å–æ–≤–æ–º –∫–∞–Ω–∞–ª–∞—Ö.
–ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä [`audio`](#audioname) –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–≤—É–∫ - –æ–Ω –∑–∞–ø–∏—à–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ø–æ–ª–µ `tts`:
```js
const { reply, audio } = require('alice-renderer');

reply`${audio('sounds-game-win-1')} –ö–∞–∫ –¥–µ–ª+–∞?`;

/*
{
  text: '–ö–∞–∫ –¥–µ–ª–∞?',
  tts: '<speaker audio="alice-sounds-game-win-1.opus"> –ö–∞–∫ –¥–µ–ª+–∞?',
  end_session: false
}
*/
```

–ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä [`buttons`](#buttonsitems-defaults) –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏:
```js
const { reply, buttons } = require('alice-renderer');

reply`
  –ö–∞–∫ –¥–µ–ª+–∞?
  ${buttons(['–û—Ç–ª–∏—á–Ω–æ', '–°—É–ø–µ—Ä'])}
`;

/*
{
  text: '–ö–∞–∫ –¥–µ–ª–∞?',
  tts: '–ö–∞–∫ –¥–µ–ª+–∞?',
  buttons: [
    {title: '–û—Ç–ª–∏—á–Ω–æ', hide: true},
    {title: '–°—É–ø–µ—Ä', hide: true},
  ],
  end_session: false
}
*/
```

–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –æ—Ç–≤–µ—Ç –±–æ–ª–µ–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–º –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ `reply` –º–∞—Å—Å–∏–≤—ã –∑–Ω–∞—á–µ–Ω–∏–π:`${[item1, item2, ...]}`.
–ü—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ–Ω–≥–µ –∏–∑ –º–∞—Å—Å–∏–≤–∞ –≤—ã–±–µ—Ä–µ—Ç—Å—è –æ–¥–∏–Ω —Å–ª—É—á–∞–π–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç:
```js
const { reply } = require('alice-renderer');

reply`
  ${['–ü—Ä–∏–≤–µ—Ç', '–ó–¥–æ—Ä+–æ–≤–æ']}! –ö–∞–∫ –¥–µ–ª+–∞?
`;

/*
{
  text: '–ó–¥–æ—Ä–æ–≤–æ! –ö–∞–∫ –¥–µ–ª–∞?',
  tts: '–ó–¥–æ—Ä+–æ–≤–æ! –ö–∞–∫ –¥–µ–ª+–∞?',
  end_session: false
}
*/
```

### –ü—Ä–∏–º–µ—Ä —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
–î–ª—è –ø—Ä–æ–±—Ä–æ—Å–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —É–¥–æ–±–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [`reply`](#reply) –≤–º–µ—Å—Ç–µ —Å–æ —Å—Ç—Ä–µ–ª–æ—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π:
```js
const { reply, pause, buttons } = require('alice-renderer');

const welcome = username => reply`
  ${['–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ', '–î–æ–±—Ä—ã–π –¥–µ–Ω—å']}, ${username}! ${pause(500)} –ö–∞–∫ –¥–µ–ª+–∞?
  ${buttons(['–û—Ç–ª–∏—á–Ω–æ', '–°—É–ø–µ—Ä'])}
`;

const response = welcome('–í–∏—Ç–∞–ª–∏–π –ü–æ—Ç+–∞–ø–æ–≤');

console.log(response);

/*
{
  text: '–î–æ–±—Ä—ã–π –¥–µ–Ω—å, –í–∏—Ç–∞–ª–∏–π –ü–æ—Ç–∞–ø–æ–≤! –ö–∞–∫ –¥–µ–ª–∞?',
  tts: '–î–æ–±—Ä—ã–π –¥–µ–Ω—å, –í–∏—Ç–∞–ª–∏–π –ü–æ—Ç+–∞–ø–æ–≤! - - - - - - - –ö–∞–∫ –¥–µ–ª+–∞?',
  buttons: [
    {title: '–û—Ç–ª–∏—á–Ω–æ', hide: true},
    {title: '–°—É–ø–µ—Ä', hide: true},
  ],
  end_session: false
}
*/
```
–ü–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–∞–∫–∂–µ –æ—á–∏—â–∞—é—Ç—Å—è –æ—Ç –∞–∫—Ü–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∑–∞–ø–∏—Å–∏ –≤ –ø–æ–ª–µ `text`.

## API

### reply
–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏. 
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ —Ç–µ–≥-—Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è [template literal](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/template_strings): 
```js
 reply`—Å—Ç—Ä–æ–∫–∞`;
```
–§–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç –¥–ª—è –ê–ª–∏—Å—ã, —Ä–∞—Å–∫–ª–∞–¥—ã–≤–∞—è –ø–µ—Ä–µ–¥–∞–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É –Ω–∞ —Ç–µ–∫—Å—Ç, –≥–æ–ª–æ—Å –∏ –∫–Ω–æ–ø–∫–∏. 
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç—Ä–æ–∫–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤ –æ–±–∞ –ø–æ–ª—è `text` –∏ `tts`.
–ü—Ä–∏–º–µ–Ω—è—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –º–æ–∂–Ω–æ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—É—é –∏ –≥–æ–ª–æ—Å–æ–≤—É—é —á–∞—Å—Ç—å:

```js
const { reply, pause, audio, buttons } = require('alice-renderer');

reply`
  ${audio('sounds-game-win-1')} ${['–ü—Ä–∏–≤–µ—Ç', '–ó–¥–æ—Ä+–æ–≤–æ']}! ${pause(500)} –ö–∞–∫ –¥–µ–ª+–∞?
  ${buttons(['–û—Ç–ª–∏—á–Ω–æ', '–°—É–ø–µ—Ä'])}
`;

/*
{
  text: '–ó–¥–æ—Ä–æ–≤–æ! –ö–∞–∫ –¥–µ–ª–∞?',
  tts: '<speaker audio="alice-sounds-game-win-1.opus"> –ó–¥–æ—Ä+–æ–≤–æ! - - - - - - - –ö–∞–∫ –¥–µ–ª+–∞?',
  buttons: [
    {title: '–û—Ç–ª–∏—á–Ω–æ', hide: true},
    {title: '–°—É–ø–µ—Ä', hide: true},
  ],
  end_session: false
}
*/
```

### reply.end
–§–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç —Ä–æ–≤–Ω–æ —Ç–∞–∫–∂–µ, –∫–∞–∫ –∏ [`reply`](#reply), –Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–µ—Å—Å–∏—é:

```js
const { reply } = require('alice-renderer');

reply.end`–î–æ –Ω–æ–≤—ã—Ö –≤—Å—Ç—Ä–µ—á!`;

/*
{
  text: '–î–æ –Ω–æ–≤—ã—Ö –≤—Å—Ç—Ä–µ—á!',
  tts: '–î–æ –Ω–æ–≤—ã—Ö –≤—Å—Ç—Ä–µ—á!',
  end_session: true
}
*/
```

### buttons(items, [defaults])
–î–æ–±–∞–≤–ª—è–µ—Ç –≤ –æ—Ç–≤–µ—Ç –∫–Ω–æ–ø–∫–∏.  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  * **items** `{Array<String|Object>}` - —Ç–∞–π—Ç–ª—ã/–æ–ø–∏—Å–∞–Ω–∏—è –∫–Ω–æ–ø–æ–∫.
  * **defaults** `{?Object}` - –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö –∫–Ω–æ–ø–æ–∫.

–í –ø—Ä–æ—Å—Ç–µ–π—à–µ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –∫–Ω–æ–ø–∫–∏ –º–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–º:
```js
const { reply, buttons } = require('alice-renderer');

reply`–•–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å? ${buttons(['–î–∞', '–ù–µ—Ç'])}`;

/*
{
  text: '–•–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å?',
  tts: '–•–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å?',
  buttons: [
    {title: '–î–∞', hide: true},
    {title: '–ù–µ—Ç', hide: true},
  ],
  end_session: false
}
*/
```

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø –∫–Ω–æ–ø–æ–∫, —Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≤—ã—Å—Ç–∞–≤–ª—è–µ–º `defaults`:
```js
const { reply, buttons } = require('alice-renderer');

reply`
  –•–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å? 
  ${buttons(['–î–∞', '–ù–µ—Ç'], {hide: false})}
`;

/*
{
  text: '–•–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å?',
  tts: '–•–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å?',
  buttons: [
    {title: '–î–∞', hide: false},
    {title: '–ù–µ—Ç', hide: false},
  ],
  end_session: false
}
*/
```

–î–ª—è –ø–æ–ª–Ω–æ–π –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏:
```js
const { reply, buttons } = require('alice-renderer');

reply`
  –•–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å? 
  ${buttons([
    {title: '–î–∞', payload: 'yes'},
    {title: '–ù–µ—Ç', payload: 'no'},
  ])}
`;

/*
{
  text: '–•–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å?',
  tts: '–•–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å?',
  buttons: [
    {title: '–î–∞', payload: 'yes', hide: true},
    {title: '–ù–µ—Ç', payload: 'no', hide: true},
  ],
  end_session: false
}
*/
```

### audio(name)
–î–æ–±–∞–≤–ª—è–µ—Ç –∑–≤—É–∫ –≤ –≥–æ–ª–æ—Å–æ–≤–æ–π –∫–∞–Ω–∞–ª.  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  * **name** `{String}` - –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–≤—É–∫–∞ –∏–∑ [–±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∑–≤—É–∫–æ–≤](https://tech.yandex.ru/dialogs/alice/doc/sounds-docpage/).

```js
const { reply, audio } = require('alice-renderer');

reply`${audio('sounds-game-win-1')} –£—Ä–∞!`;

/*
{
  text: '–£—Ä–∞!',
  tts: '<speaker audio="alice-sounds-game-win-1.opus"> –£—Ä–∞!',
  end_session: false
}
*/
```
  
### effect(name)
–î–æ–±–∞–≤–ª—è–µ—Ç –≥–æ–ª–æ—Å–æ–≤–æ–π —ç—Ñ—Ñ–µ–∫—Ç.  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  * **name** `{String}` - –Ω–∞–∑–≤–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ –∏–∑ [–±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤](https://tech.yandex.ru/dialogs/alice/doc/speech-effects-docpage/).

```js
const { reply, effect } = require('alice-renderer');

reply`${effect('hamster')} –Ø –≥–æ–≤–æ—Ä—é –∫–∞–∫ —Ö–æ–º—è–∫`;

/*
{
  text: '–Ø –≥–æ–≤–æ—Ä—é –∫–∞–∫ —Ö–æ–º—è–∫',
  tts: '<speaker effect="hamster"> –Ø –≥–æ–≤–æ—Ä—é –∫–∞–∫ —Ö–æ–º—è–∫',
  end_session: false
}
*/
```

### image(imageId, [options])
–î–æ–±–∞–≤–ª—è–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ BigImage –≤ –æ—Ç–≤–µ—Ç.
 
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  * **imageId** `{String}` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, [–∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –≤ –Ω–∞–≤—ã–∫](https://yandex.ru/dev/dialogs/alice/doc/resource-upload-docpage/)
  * **options.title** `{String}` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  * **options.description** `{String}` - –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  * **options.button** `{Object}` - –¥–µ–π—Å—Ç–≤–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
  
–ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å `title / description` –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Ç–æ —ç—Ç–∏ –ø–æ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –∏–∑ –ø–æ–ª—è `response.text`.
–õ–æ–≥–∏–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–∞—è: —Å–Ω–∞—á–∞–ª–∞ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è `title`, –µ—Å–ª–∏ –¥–ª–∏–Ω–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É —Ç–∞–π—Ç–ª–∞ (128 —Å–∏–º–≤–æ–ª–æ–≤),
—Ç–æ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è `description`. –ï—Å–ª–∏ –∏ –≤ `description` –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è (256 —Å–∏–º–≤–æ–ª–æ–≤) - 
—Ç–æ –ø—Ä–æ–±—É–µ–º –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∏ `title` –∏ `description`, –æ—Å—Ç–∞–ª—å–Ω–æ–µ –æ–±—Ä–µ–∑–∞–µ–º.

–ï—Å–ª–∏ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω–æ `title / description` - —Ç–æ –æ–Ω–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –∏—Å—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.

–ü—Ä–∏–º–µ—Ä —Å –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º `title`:
```js
const { reply, image } = require('alice-renderer');

reply`
  –í–æ—Ç –º–æ—è —Ñ–æ—Ç–∫–∞.
  ${image('1234567/xxx')}
`;

/*
{
  text: '–í–æ—Ç –º–æ—è —Ñ–æ—Ç–∫–∞.',
  tts: '–í–æ—Ç –º–æ—è —Ñ–æ—Ç–∫–∞.',
  end_session: false,
  card: {
    type: 'BigImage',
    image_id: '1234567/xxx',
    title: '–í–æ—Ç –º–æ—è —Ñ–æ—Ç–∫–∞.',
  }
}
*/
```

–ü—Ä–∏–º–µ—Ä —Å –∞–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ–º `description`:
```js
const { reply, image } = require('alice-renderer');

reply`
  –í–æ—Ç –º–æ—è —Ñ–æ—Ç–∫–∞.
  ${image('1234567/xxx', { title: '–ó–∞–≥–æ–ª–æ–≤–æ–∫' })}
`;

/*
{
  text: '–í–æ—Ç –º–æ—è —Ñ–æ—Ç–∫–∞.',
  tts: '–í–æ—Ç –º–æ—è —Ñ–æ—Ç–∫–∞.',
  end_session: false,
  card: {
    type: 'BigImage',
    image_id: '1234567/xxx',
    title: '–ó–∞–≥–æ–ª–æ–≤–æ–∫',
    description: '–í–æ—Ç –º–æ—è —Ñ–æ—Ç–∫–∞.',
  }
}
*/
```

### pause([ms])
–î–æ–±–∞–≤–ª—è–µ—Ç –ø–∞—É–∑—É.  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  * **ms** `{?Number=500}` - –≤—Ä–µ–º—è –≤ –º–∏–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö.

```js
const { reply, pause } = require('alice-renderer');

reply`–î–∞–π—Ç–µ –ø–æ–¥—É–º–∞—Ç—å... ${pause()} –í—ã –ø—Ä–∞–≤—ã!`;

/*
{
  text: '–î–∞–π—Ç–µ –ø–æ–¥—É–º–∞—Ç—å. –í—ã –ø—Ä–∞–≤—ã!',
  tts: '–î–∞–π—Ç–µ –ø–æ–¥—É–º–∞—Ç—å. sil <[500]> –í—ã –ø—Ä–∞–≤—ã!',
  end_session: false
}
*/
```

### br([count])
–î–æ–±–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫–∏ –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª. –í—Å—Ç–∞–≤–∫–∞ `\n` –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç,
—Ç.–∫. –∏—Å—Ö–æ–¥–Ω—ã–µ –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –≤—ã—Ä–µ–∑–∞—é—Ç—Å—è –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –∑–∞–ø–∏—Å–∏ –æ—Ç–≤–µ—Ç–æ–≤ –≤ backticks `` `...` ``.  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  * **count** `{?Number=1}` - –∫–æ–ª-–≤–æ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫.

```js
const { reply, br } = require('alice-renderer');

reply`
  –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å: ${br()}
  "–í –∫–∞–∫–æ–º –≥–æ–¥—É –æ—Ç–º–µ–Ω–∏–ª–∏ –∫—Ä–µ–ø–æ—Å—Ç–Ω–æ–µ –ø—Ä–∞–≤–æ?"
`;

/*
{
  text: '–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å:\n"–í –∫–∞–∫–æ–º –≥–æ–¥—É –æ—Ç–º–µ–Ω–∏–ª–∏ –∫—Ä–µ–ø–æ—Å—Ç–Ω–æ–µ –ø—Ä–∞–≤–æ?"',
  tts: '–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å: "–í –∫–∞–∫–æ–º –≥–æ–¥—É –æ—Ç–º–µ–Ω–∏–ª–∏ –∫—Ä–µ–ø–æ—Å—Ç–Ω–æ–µ –ø—Ä–∞–≤–æ?"',
  end_session: false
}
*/
```

### text(value)
–î–æ–±–∞–≤–ª—è–µ—Ç —Å—Ç—Ä–æ–∫—É —Ç–æ–ª—å–∫–æ –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª.  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  * **value** `{String|Array<String>}` - —Å—Ç—Ä–æ–∫–∞ —Ç–µ–∫—Å—Ç–∞ (–∏–ª–∏ –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–∞–Ω —Å–ª—É—á–∞–π–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç).

–ù–∞–ø—Ä–∏–º–µ—Ä –µ—Å–ª–∏ —Ñ—Ä–∞–∑–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –º–Ω–æ–≥–æ—Ç–æ—á–Ω–∏–µ–º, —Ç–æ –º–Ω–æ–≥–æ—Ç–æ—á–Ω–∏–µ `...` –ª—É—á—à–µ –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ —Ç–µ–∫—Å—Ç.
–ú–Ω–æ–≥–æ—Ç–æ—á–Ω–∏–µ –≤ –≥–æ–ª–æ—Å–µ –ª–∏—à—å —Å–æ–∑–¥–∞—Å—Ç –Ω–µ–Ω—É–∂–Ω—É—é –ø–∞—É–∑—É –≤ –∫–æ–Ω—Ü–µ, –∏–∑-–∑–∞ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –Ω–µ "—É—Å–ª—ã—à–∞—Ç—å" –≤–µ—Å—å –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
```js
const { reply, text } = require('alice-renderer');

reply`–ñ–∏–∑–Ω—å —Å–ª–æ–∂–Ω–∞—è —à—Ç—É–∫–∞${text('...')}`;

/*
{
  text: '–ñ–∏–∑–Ω—å —Å–ª–æ–∂–Ω–∞—è —à—Ç—É–∫–∞...',
  tts: '–ñ–∏–∑–Ω—å —Å–ª–æ–∂–Ω–∞—è —à—Ç—É–∫–∞',
  end_session: false
}
*/
```

### tts(value)
–î–æ–±–∞–≤–ª—è–µ—Ç —Å—Ç—Ä–æ–∫—É —Ç–æ–ª—å–∫–æ –≤ –≥–æ–ª–æ—Å–æ–≤–æ–π –∫–∞–Ω–∞–ª.  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  * **value** `{String|Array<String>}` - —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –≥–æ–ª–æ—Å–∞ (–∏–ª–∏ –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –≤—ã–±—Ä–∞–Ω —Å–ª—É—á–∞–π–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç).

–ü–æ–ª–µ–∑–Ω–æ –Ω–∞–ø—Ä–∏–º–µ—Ä –¥–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è —ç–º–æ—Ü–∏–π:
```js
const { reply, tts } = require('alice-renderer');

reply`${tts('–ô–æ—Ö–æ—Ö–æ!')} –í—ã —É–≥–∞–¥–∞–ª–∏!`;

/*
{
  text: '–í—ã —É–≥–∞–¥–∞–ª–∏!',
  tts: ''–ô–æ—Ö–æ—Ö–æ! –í—ã —É–≥–∞–¥–∞–ª–∏!',
  end_session: false
}
*/
```

### textTts(textValue, ttsValue)
–î–æ–±–∞–≤–ª—è–µ—Ç –ø–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç –≤ —Ç–µ–∫—Å—Ç–æ–≤—É—é —á–∞—Å—Ç—å, –∞ –≤—Ç–æ—Ä–æ–π - –≤ –≥–æ–ª–æ—Å–æ–≤—É—é.  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  * **textValue** `{String|Array<String>}` - —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –ø–æ–ª—è `text`.
  * **ttsValue** `{String|Array<String>}` - —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –ø–æ–ª—è `tts`.

–≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –ø—Ä–∏ –≤—ã–≤–æ–¥–µ –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è —ç–∫—Ä–∞–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä email):
```js
const { reply, textTts } = require('alice-renderer');

reply`
  –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–∞–º –Ω–∞ –µ–º–µ–π–ª${textTts(': user1234@example.com', '. –û–Ω –Ω–∞ –≤–∞—à–µ–º —ç–∫—Ä–∞–Ω–µ.')}
`;

/*
{
  text: '–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–∞–º –Ω–∞ –µ–º–µ–π–ª: user1234@example.com',
  tts: '–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–∞–º –Ω–∞ –µ–º–µ–π–ª. –û–Ω –Ω–∞ –≤–∞—à–µ–º —ç–∫—Ä–∞–Ω–µ.',
  end_session: false
}
*/
```

–ò–ª–∏ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ emoji:
* –≤ —Ç–µ–∫—Å—Ç –ª—É—á—à–µ –∏—Ö –¥–æ–±–∞–≤–∏—Ç—å –±–µ–∑ –∑–Ω–∞–∫–æ–≤ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è (—Ç–∞–∫ —Å–º–æ—Ç—Ä–∏—Ç—Å—è –ª—É—á—à–µ)
* –≤ –≥–æ–ª–æ—Å –Ω–∞–æ–±–æ—Ä–æ—Ç –≤—Å—Ç–∞–≤–∏—Ç—å –∑–Ω–∞–∫ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –±–µ–∑ emoji (—Ç–æ–≥–¥–∞ –ê–ª–∏—Å–∞ –ø—Ä–æ—á–∏—Ç–∞–µ—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∏–Ω—Ç–æ–Ω–∞—Ü–∏–µ–π)

```js
const { reply, textTts } = require('alice-renderer');

reply`–û—Ç–ª–∏—á–Ω–æ${textTts(' üëå', '!')} –ë—É–¥–µ—Ç —Å–∫—É—á–Ω–æ - –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å.`;

/*
{
  text: '–û—Ç–ª–∏—á–Ω–æ üëå –ë—É–¥–µ—Ç —Å–∫—É—á–Ω–æ - –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å.',
  tts: '–û—Ç–ª–∏—á–Ω–æ! –ë—É–¥–µ—Ç —Å–∫—É—á–Ω–æ - –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å.',
  end_session: false
}
*/
```

### plural(number, one, two, five)
–ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–æ—Ä–º —Å–ª–æ–≤–∞ –¥–ª—è —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã—Ö. –í —Å—Ç—Ä–æ–∫–∞—Ö –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã `$1`, `$2`, `$5`.  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  * **number** `{Number}` - —á–∏—Å–ª–æ.
  * **one** `{String}` - —Å—Ç—Ä–æ–∫–∞ –¥–ª—è `1`.
  * **two** `{String}` - —Å—Ç—Ä–æ–∫–∞ –¥–ª—è `2`.
  * **five** `{String}` - —Å—Ç—Ä–æ–∫–∞ –¥–ª—è `5`.

```js
const { reply, plural } = require('alice-renderer');

const getResponse = count => reply`
  –£ –≤–∞—Å ${plural(count, '$1 –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç', '$2 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞', '$5 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤')}
`;

getResponse(1); // response.text = "–£ –≤–∞—Å 1 –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç"
getResponse(2); // response.text = "–£ –≤–∞—Å 2 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞"
getResponse(5); // response.text = "–£ –≤–∞—Å 5 –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤"
getResponse(121); // response.text = "–£ –≤–∞—Å 121 –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç"
```

### userify(userId, target)
–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. 
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –æ—Ç–≤–µ—Ç–æ–≤ –∏–∑ –º–∞—Å—Å–∏–≤–∞.     
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  * **userId** `{String}` - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
  * **target** `{Function|Object}` - —Ñ—É–Ω–∫—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∏–ª–∏ –æ–±—ä–µ–∫—Ç, –∫–ª—é—á–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ - —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
  * `{Function|Object}` 

–ù–∞–ø—Ä–∏–º–µ—Ä, –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `userify`:
```js
const { reply } = require('alice-renderer');

const replySuccess = () => reply`
  ${['–û—Ç–ª–∏—á–Ω–æ', '–°—É–ø–µ—Ä', '–ö–ª–∞—Å—Å']}! 
  –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç!
`;

replySuccess();
replySuccess();
replySuccess();

// –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è —Ç–∞–∫:
// => "–°—É–ø–µ—Ä! –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç!"
// => "–°—É–ø–µ—Ä! –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç!"
// => "–°—É–ø–µ—Ä! –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç!"
```

–° –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `userify` –æ—Ç–≤–µ—Ç—ã –±—É–¥—É—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Ä–∞–∑–Ω—ã–µ:
```js
const { reply, userify } = require('alice-renderer');

const replySuccess = () => reply`
  ${['–û—Ç–ª–∏—á–Ω–æ', '–°—É–ø–µ—Ä', '–ö–ª–∞—Å—Å']}!
  –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç!
`;

const userReplySuccess = userify(userId, replySuccess);

userReplySuccess();
userReplySuccess();
userReplySuccess();

// => "–°—É–ø–µ—Ä! –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç!"
// => "–û—Ç–ª–∏—á–Ω–æ! –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç!"
// => "–ö–ª–∞—Å—Å! –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç!"
```

–¢–∞–∫–∂–µ –≤ `userify` –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç - —Ç–æ–≥–¥–∞ –±—É–¥—É—Ç –æ–±–µ—Ä–Ω—É—Ç—ã –≤—Å–µ –µ–≥–æ –º–µ—Ç–æ–¥—ã:
```js
const { reply, userify } = require('alice-renderer');

const replies = {
  success: () => reply`${['–û—Ç–ª–∏—á–Ω–æ', '–°—É–ø–µ—Ä', '–ö–ª–∞—Å—Å']}! –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç!`,
  fail: () => reply`${['–ù–µ—Ç', '–ù–µ–≤–µ—Ä–Ω–æ']}! –≠—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç!`,
};
const userReplies = userify(userId, replies);

userReplies.success();
```  

### onceInRange(from, to, response)
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞–¥–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞ `N` –≤—ã–∑–æ–≤–æ–≤, –≥–¥–µ `N` –ª–µ–∂–∏—Ç –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ `(from, to)`.
–ù–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã —Ä–∞–∑ –≤ 3 - 5 –≤—ã–∑–æ–≤–æ–≤ –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –æ—Ç–≤–µ—Ç `"–í—ã –∫–ª–∞—Å—Å–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã!"`, –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–∞–∫:
```js
reply`
  ${onceInRange(3, 5, '–í—ã –∫–ª–∞—Å—Å–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã!')}
`;
```
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å `userify` –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏.
  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  * **from** `{Number}` - –Ω–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
  * **to** `{Number}` - –≤–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
  * **response** `{String|Object}` - –æ—Ç–≤–µ—Ç

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
  * `{String|Object}`

```js
const { reply, userify, rand } = require('alice-renderer');

const replySuccess = () => reply`
  –ü—Ä–∞–≤–∏–ª—å–Ω–æ!
  ${onceInRange(3, 5, '–í—ã –∫–ª–∞—Å—Å–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã!')}
`;
const userReplySuccess = userify(userId, replySuccess);

// => "–ü—Ä–∞–≤–∏–ª—å–Ω–æ!"
// => "–ü—Ä–∞–≤–∏–ª—å–Ω–æ!"
// => "–ü—Ä–∞–≤–∏–ª—å–Ω–æ!"
// => "–ü—Ä–∞–≤–∏–ª—å–Ω–æ! –í—ã –∫–ª–∞—Å—Å–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã!"
// => "–ü—Ä–∞–≤–∏–ª—å–Ω–æ!"
// => ...
```

### configure(options)
–ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–¥—É–ª—è.  
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  * **options.disableRandom** `{Boolean} = false` - –æ—Ç–∫–ª—é—á–∞–µ—Ç —Ä–∞–Ω–¥–æ–º. 
    –í—Å–µ –æ—Ç–≤–µ—Ç—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –º–∞—Å—Å–∏–≤—ã, –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø–µ—Ä–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç.
    –≠—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
  * `{undefined}`

–ù–∞–ø—Ä–∏–º–µ—Ä:
```js
const { reply, configure } = require('alice-renderer');

configure({disableRandom: true});

reply`${['–†–∞–∑', '–î–≤–∞', '–¢—Ä–∏']}`;
reply`${['–†–∞–∑', '–î–≤–∞', '–¢—Ä–∏']}`;
reply`${['–†–∞–∑', '–î–≤–∞', '–¢—Ä–∏']}`;
reply`${['–†–∞–∑', '–î–≤–∞', '–¢—Ä–∏']}`;

// –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç {text: "–†–∞–∑", tts: "–†–∞–∑"}
```

## –†–µ—Ü–µ–ø—Ç—ã

### –í–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –º–∞—Å—Å–∏–≤—ã
–í–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ –æ—Ç–≤–µ—Ç–∞—Ö —É–¥–æ–±–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —á–µ—Ä–µ–∑ –º–∞—Å—Å–∏–≤—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–Ω–æ—Å–∏—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
```js
const { reply } = require('alice-renderer');

const greetingText = [
  '–ü—Ä–∏–≤–µ—Ç',
  '–ó–¥–æ—Ä+–æ–≤–æ',
  '–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ',
  '–î–æ–±—Ä+–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å',
  '–ô–æ—Ö+–∞–Ω–≥–∞',
];

const greetingSound = [
  audio('sounds-game-win-1'),
  audio('sounds-game-win-2'),
  audio('sounds-game-win-3'),
];

const welcome = () => reply`
  ${greetingSound} ${greetingText}! –Ø –≥–æ–ª–æ—Å–æ–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫ –ê–ª–∏—Å–∞.
`;
```

### –ú–æ–¥—É–ª—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –æ—Ç–≤–µ—Ç–æ–≤
–í—Å—é —Ä–∞–±–æ—Ç—É –ø–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—é —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ —É–¥–æ–±–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å. 
–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–¥–µ–ª–∏—Ç—å –ª–æ–≥–∏–∫—É –Ω–∞–≤—ã–∫–∞ –æ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∏ –º–µ–Ω—è—Ç—å —ç—Ç–∏ —á–∞—Å—Ç–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ:

**replies.js**
```js
const { reply, buttons } = require('alice-renderer');

exports.welcome = () => reply`
  –ü—Ä–∏–≤–µ—Ç! –Ø –≥–æ–ª–æ—Å–æ–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫ –ê–ª–∏—Å–∞.
`;

exports.showMenu = username => reply`
  ${username}, –≤—ã –º–æ–∂–µ—Ç–µ —Å—Ä–∞–∑—É –Ω–∞—á–∞—Ç—å –∏–≥—Ä—É –∏–ª–∏ —É–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ –ø—Ä–∞–≤–∏–ª–∞—Ö.
  ${buttons(['–ù–∞—á–∞—Ç—å –∏–≥—Ä—É', '–ü—Ä–∞–≤–∏–ª–∞'])}
`;

exports.goodbye = () => reply.end`
  –û—Ç–ª–∏—á–Ω–æ! –ë—É–¥–µ—Ç —Å–∫—É—á–Ω–æ - –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å.
`;
```

**logic.js**
```js
const replies = require('./replies');

function handleMenuRequest() {
  // –ª–æ–≥–∏–∫–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞...
  return replies.showMenu(session.username);
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ª–æ–≤–∏–π
–ú–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–ª—è—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —É—Å–ª–æ–≤–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –ø—Ä—è–º –≤ —Ñ–æ—Ä–º–∏—Ä—É–µ–º—É—é —Å—Ç—Ä–æ–∫—É. Falsy –∑–Ω–∞—á–µ–Ω–∏—è –≤ –æ—Ç–≤–µ—Ç –Ω–µ –ø–æ–ø–∞–¥—É—Ç:
```js
const { reply } = require('alice-renderer');

exports.correctAnswer = score => reply`
  –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç!
  ${score > 100 && '–í—ã –Ω–∞–±—Ä–∞–ª–∏ –±–æ–ª—å—à–µ 100 –±–∞–ª–ª–æ–≤ –∏ –ø–æ–ª—É—á–∞–µ—Ç–µ –ø—Ä–∏–∑!'}
`;
```

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–π `reply`, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç—Ä–æ–∫–∏ –≤ —É—Å–ª–æ–≤–∏–∏:
```js
const { reply, audio } = require('alice-renderer');

exports.correctAnswer = score => reply`
  –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç!
  ${score > 100 && reply`${audio('sounds-game-win-1')}–í—ã –Ω–∞–±—Ä–∞–ª–∏ –±–æ–ª—å—à–µ 100 –±–∞–ª–ª–æ–≤ –∏ –ø–æ–ª—É—á–∞–µ—Ç–µ –ø—Ä–∏–∑!`}
`;
```

## –õ–∏—Ü–µ–Ω–∑–∏—è
MIT @ [Vitaliy Potapov](https://github.com/vitalets)
